<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="506pt" height="752" viewBox="0 0 505.5 563.5"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 559.5)"><title>PoolManager._accountDelta(Currency,int128) control flow graph</title><g id="node1" class="node"><title>89</title><polygon fill="none" stroke="#000" points="137.5 -539 83.5 -539 83.5 -503 137.5 -503 137.5 -539"/></g><g id="node4" class="node"><title>92</title><polygon fill="none" stroke="#000" points="78.5 -375 24.5 -375 24.5 -339 78.5 -339 78.5 -375"/><text x="32.5" y="-351.95" font-family="Times,serif" font-size="14" text-anchor="start">return;</text></g><g id="edge1" class="edge"><title>89-&gt;92</title><path fill="none" stroke="#000" d="M83.28,-509.61C72.52,-504.03 61.26,-495.99 55,-485 37.71,-454.65 40.47,-413.24 45.09,-386.08"/><polygon fill="#000" stroke="#000" points="48.7 -386.86 47.14 -376.38 41.82 -385.55 48.7 -386.86"/><text x="102.75" y="-471.7" font-family="Times,serif" font-size="14" text-anchor="middle">delta == 0 is true</text></g><g id="node5" class="node"><title>95</title><polygon fill="none" stroke="#000" points="363.38 -450.5 79.62 -450.5 79.62 -393 363.38 -393 363.38 -450.5"/><text x="87.62" y="-433.2" font-family="Times,serif" font-size="14" text-anchor="start">address locker = lockData.getActiveLock()</text><text x="87.62" y="-416.7" font-family="Times,serif" font-size="14" text-anchor="start">int256 current = currencyDelta[locker][currency]</text><text x="87.62" y="-400.2" font-family="Times,serif" font-size="14" text-anchor="start">int256 next = current + delta</text></g><g id="edge2" class="edge"><title>89-&gt;95</title><path fill="none" stroke="#000" d="M130.34,-502.61C144.62,-490.11 164.36,-472.82 181.81,-457.52"/><polygon fill="#000" stroke="#000" points="183.43 -459.88 188.65 -450.66 178.82 -454.62 183.43 -459.88"/><text x="216" y="-471.7" font-family="Times,serif" font-size="14" text-anchor="middle">delta == 0 is false</text></g><g id="node2" class="node"><title>90</title><polygon fill="none" stroke="green" points="94.5 -36 40.5 -36 40.5 0 94.5 0 94.5 -36"/><text x="20.25" y="-39.2" font-family="Times,serif" font-size="14" text-anchor="middle">success</text></g><g id="node3" class="node"><title>91</title><polygon fill="none" stroke="red" points="209.5 -539 155.5 -539 155.5 -503 209.5 -503 209.5 -539"/><text x="160" y="-542.2" font-family="Times,serif" font-size="14" text-anchor="middle">revert</text></g><g id="edge3" class="edge"><title>92-&gt;90</title><path fill="none" stroke="#000" d="M51.5,-338.74C51.5,-317.76 51.5,-281.28 51.5,-250 51.5,-250 51.5,-250 51.5,-105.5 51.5,-85.58 55.65,-63.5 59.73,-46.64"/><polygon fill="#000" stroke="#000" points="63.26 -47.94 62.35 -37.39 56.48 -46.21 63.26 -47.94"/><text x="70.25" y="-189.95" font-family="Times,serif" font-size="14" text-anchor="middle">always</text></g><g id="node6" class="node"><title>96</title><polygon fill="none" stroke="#000" points="251.12 -267 67.88 -267 67.88 -231 251.12 -231 251.12 -267"/><text x="75.88" y="-243.95" font-family="Times,serif" font-size="14" text-anchor="start">lockData.nonzeroDeltaCount--</text></g><g id="edge4" class="edge"><title>95-&gt;96</title><path fill="none" stroke="#000" d="M172.6,-392.63C167.14,-387.47 162.35,-381.6 159,-375 143.54,-344.52 147.29,-304.23 152.47,-277.74"/><polygon fill="#000" stroke="#000" points="156.03 -278.81 154.72 -268.3 149.19 -277.33 156.03 -278.81"/><text x="205.25" y="-351.95" font-family="Times,serif" font-size="14" text-anchor="middle">next == 0 is true</text></g><g id="node7" class="node"><title>98</title><polygon fill="none" stroke="#000" points="303.5 -321 249.5 -321 249.5 -285 303.5 -285 303.5 -321"/></g><g id="edge5" class="edge"><title>95-&gt;98</title><path fill="none" stroke="#000" d="M243.94,-392.61C247.81,-386.98 251.53,-380.96 254.5,-375 261.29,-361.38 266.5,-345.23 270.14,-331.78"/><polygon fill="#000" stroke="#000" points="273.75 -332.79 272.82 -322.23 266.96 -331.06 273.75 -332.79"/><text x="315.5" y="-351.95" font-family="Times,serif" font-size="14" text-anchor="middle">next == 0 is false</text></g><g id="node9" class="node"><title>103</title><polygon fill="none" stroke="#000" points="350.75 -124.5 120.25 -124.5 120.25 -88.5 350.75 -88.5 350.75 -124.5"/><text x="128.25" y="-101.45" font-family="Times,serif" font-size="14" text-anchor="start">currencyDelta[locker][currency] = next</text></g><g id="edge6" class="edge"><title>96-&gt;103</title><path fill="none" stroke="#000" d="M144.23,-230.61C140.47,-225.31 136.96,-219.23 135,-213 130.19,-197.74 127.57,-191.17 135,-177 145.58,-156.83 164.96,-141.35 183.9,-130.18"/><polygon fill="#000" stroke="#000" points="185.38 -132.81 192.42 -124.89 181.98 -126.69 185.38 -132.81"/><text x="154.25" y="-189.95" font-family="Times,serif" font-size="14" text-anchor="middle">always</text></g><g id="node8" class="node"><title>99</title><polygon fill="none" stroke="#000" points="371.88 -213 181.12 -213 181.12 -177 371.88 -177 371.88 -213"/><text x="189.12" y="-189.95" font-family="Times,serif" font-size="14" text-anchor="start">lockData.nonzeroDeltaCount++</text></g><g id="edge7" class="edge"><title>98-&gt;99</title><path fill="none" stroke="#000" d="M276.5,-284.97C276.5,-268.61 276.5,-243.59 276.5,-224.24"/><polygon fill="#000" stroke="#000" points="280 -224.34 276.5 -214.34 273 -224.34 280 -224.34"/><text x="335" y="-243.95" font-family="Times,serif" font-size="14" text-anchor="middle">current == 0 is true</text></g><g id="edge8" class="edge"><title>98-&gt;103</title><path fill="none" stroke="#000" d="M303.56,-301.93C329.8,-300.23 368.38,-293.07 387.5,-267 396.43,-254.82 382.61,-179.92 380.5,-177 364.53,-154.94 339.68,-139.6 315.03,-129.06"/><polygon fill="#000" stroke="#000" points="316.46 -125.46 305.88 -124.97 313.85 -131.95 316.46 -125.46"/><text x="442" y="-189.95" font-family="Times,serif" font-size="14" text-anchor="middle">current == 0 is false</text></g><g id="edge9" class="edge"><title>99-&gt;103</title><path fill="none" stroke="#000" d="M268.4,-176.91C262.65,-164.79 254.82,-148.27 248.25,-134.39"/><polygon fill="#000" stroke="#000" points="251.17 -133.39 243.72 -125.85 244.84 -136.39 251.17 -133.39"/><text x="278.25" y="-145.7" font-family="Times,serif" font-size="14" text-anchor="middle">always</text></g><g id="edge10" class="edge"><title>103-&gt;90</title><path fill="none" stroke="#000" d="M201.91,-88.2C173.69,-73.67 133.43,-52.95 104.34,-37.97"/><polygon fill="#000" stroke="#000" points="106.42 -34.59 95.93 -33.12 103.22 -40.81 106.42 -34.59"/><text x="186.25" y="-57.2" font-family="Times,serif" font-size="14" text-anchor="middle">always</text></g></g></svg>